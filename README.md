# Linux_Command_Assistant
基于大语言模型制作的Linux命令学习助手demo。

## 项目简介
这是一个基于RAG技术的Linux命令助手，可以回答Linux命令相关问题。

## 环境要求
- Python 3.8+
- 阿里云DashScope API密钥

## 安装步骤
1. 下载所有文件
2. 安装依赖：`pip install -r requirements.txt`
3. 在`.env`文件中配置您的阿里云API密钥  
**注意：因为demo使用的是阿里云提供的模型服务api库，使用其他服务商的api可能会有兼容问题；若要使用其他模型需要更改代码中model**
4. 运行应用：`python app.py`

## 数据库的构建
1. 若知识库无变动可以直接使用，数据库是已经构建好的了
2. 可以在knowledge_base文件夹中存入自己收集的资料(txt文本格式)
3. 当知识库有变动时，需要删除原来的数据库`db`文件夹，运行`build_vector_db.py`程序重新构建数据库
4. 当引入新的资料文本时需要注意内容的格式，因为在`build_vector_db.py`程序中构建数据库时切割文本的方式是根据初始知识库中的文本的格式决定的，切割文本的方式与文本的格式不兼容会导致数据库的内容混乱，从而影响回答，比如答非所问

## 使用说明
运行后在浏览器中访问 http://127.0.0.1:7860 即可使用。

## 更新
### 2025.11.12
1.**优化检索算法**
由于原先的检索算法过于激进，会出现在没有必要检索数据库的情况下强行检索数据库，因此改变了检索的策略。这次的检索策略是通过硬性判断＋大模型判断的方式来决定对话是否需要检索数据库。  
  .-**硬性判断**：分析提问中是否包含了Linux指令或者提问中会出现的高频词汇；分析提问是否属于社交或设置属性的对话；  
  .-**大模型判断**：当硬性判断无法分析时将会调用大模型来判断是否需要检索数据库；  
2. **解决了传入空历史对话的问题**  
3. **优化了提示词**
